import{r as p,o,c as e,a as n,d as r,w as c,F as l,e as s,b as a}from"./app.e0d15f64.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const i={},k=s(`<h1 id="web-api" tabindex="-1"><a class="header-anchor" href="#web-api" aria-hidden="true">#</a> Web API</h1><p>Notarization and authentication can also be used via a simple HTTP API. You can use:</p><ul><li>the Codenotary hosted API at https://api.codenotary.io/</li><li>or a local web server exposing the same API by running the <code>vcn serve</code> command</li></ul><p>All endpoints accept <em>Basic Auth</em> with user credentials (mantatory for notarization). By default the login password is used as notarization password too. If a custom notarization password is needed add the <code>x-notarization-password: &lt;your_password&gt;</code> header, otherwise if you have set an empty notarization password add the <code>x-notarization-password-empty: yes</code> header instead.</p><h2 id="notarization" tabindex="-1"><a class="header-anchor" href="#notarization" aria-hidden="true">#</a> Notarization</h2><p><strong>Endpoints</strong></p><ul><li>POST <code>/notarize</code></li><li>POST <code>/untrust</code></li><li>POST <code>/unsupport</code></li></ul><p><strong>Query params</strong></p><ul><li><code>public</code> (if present and not empy will set the visibility to public, otherwise private)</li></ul><p><strong>Body request</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;kind&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">,</span> <span class="token comment">// string, optional</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filename.pdf&quot;</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
  <span class="token string-property property">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;......&quot;</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
  <span class="token string-property property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">4096</span><span class="token punctuation">,</span> <span class="token comment">// int, optional, must be equal or greater than zero</span>
  <span class="token string-property property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/pdf&quot;</span><span class="token punctuation">,</span> <span class="token comment">// string, optional</span>
  <span class="token string-property property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// object, optional</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Body response</strong> Same as authentication, see below.</p><h2 id="authentication" tabindex="-1"><a class="header-anchor" href="#authentication" aria-hidden="true">#</a> Authentication</h2><p><strong>Endpoint</strong></p><ul><li>GET <code>/authenticate/&lt;hash&gt;</code></li></ul><p><strong>Query params</strong></p><ul><li><code>signers</code> comma-separated list of SignerID(s)</li><li><code>org</code> organization ID</li></ul><blockquote><p><code>org</code> if present, takes precedence over <code>signers</code></p></blockquote><p><strong>Body response</strong></p><p>Results are indentical to ones of <code>vcn authenticate &lt;asset&gt; --output=json</code>.</p>`,20),b=a("Status and level codes explanation can be found "),q=a("here"),m=s(`<p>Example of unverified asset:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;kind&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;visibility&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;verificationCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;signerCount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;company&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;website&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;verification&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;owner&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>Example of a trusted asset with all field populated:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;kind&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vcn-v0.6.3-linux-amd64&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cabea5ccdf9380775f1d40fd2a1baec8ee697ecf107f13283bcfc08bd0c9df65&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">16433816</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contentType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/x-executable&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;architecture&quot;</span><span class="token operator">:</span> <span class="token string">&quot;x86_64&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;file&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;arch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;X86_64&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ELF&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GNU/Linux&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EXEC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;x64&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;platform&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GNU/Linux&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.6.3&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;visibility&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PUBLIC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;createdAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-09-25T14:01:23.159792&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;verificationCount&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;signerCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;user@vchain.us&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;company&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vChain&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;website&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://codenotary.io&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;verification&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;owner&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x068e10d036175b874017320db5a9b852620679c4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2019-09-25T14:01:20Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div>`,4);function d(g,y){const t=p("RouterLink");return o(),e(l,null,[k,n("blockquote",null,[n("p",null,[b,r(t,{to:"/vcn/user-guide/notarization.html#Statuses"},{default:c(()=>[q]),_:1})])]),m],64)}var v=u(i,[["render",d]]);export{v as default};
