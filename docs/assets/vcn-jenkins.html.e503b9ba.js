import{r as i,o as n,c as a,a as e,d as s,F as r,e as o,b as l}from"./app.0a892dac.js";import{_ as d}from"./plugin-vue_export-helper.21dcd24c.js";var c="/assets/Jenkins-Automation.2-768x247.b58bf4a2.png",p="/assets/001-Home-Screen-595x1024.2fb7b505.png",h="/assets/001a-Select-Credentials-544x1024.85841ccb.png",u="/assets/001b-System-Credentials-1024x310.524a2a6f.png",b="/assets/001c-Create-Credentials-300x136.c30bd5d3.png",g="/assets/jenkins-secret-1024x143.4fe5f474.png",m="/assets/list-1024x164.6d96bced.png",f="/assets/jenkins-build-1024x421.32e80dc0.png",v="/assets/005-Add-build-job-build-step-for-signing-294x300.a837ac20.png",y="/assets/jenkins-notarize-1024x233.355e74d9.png";const _={},x=o('<h1 id="jenkins-integration-for-vcn" tabindex="-1"><a class="header-anchor" href="#jenkins-integration-for-vcn" aria-hidden="true">#</a> Jenkins Integration for vcn</h1><p><img src="'+c+'" alt="jenkinslogo"></p><ul><li><a href="#jenkins-integration-for-vcn">Jenkins Integration for vcn</a></li><li><a href="#steps">Steps</a><ul><li><a href="#step-1-system-level-configuration">Step 1: System level configuration</a><ul><li><a href="#step-11--select-system-credentials">Step 1.1 : Select system credentials</a></li><li><a href="#step-12--add-domain">Step 1.2 : Add domain</a></li><li><a href="#step-13--add-credentials">Step 1.3 : Add credentials</a></li></ul></li><li><a href="#step-2-per-build-job">Step 2: Per build job</a><ul><li><a href="#step-21--login-and-configure-build-job">Step 2.1 : Login and configure build job</a></li><li><a href="#step-22--configure-build-step">Step 2.2 : Configure build step</a></li></ul></li><li><a href="#step-3-before-deployment">Step 3: Before deployment</a></li></ul></li></ul><p>The integration has 3 main steps in what otherwise can be labeled a 10 step process. The 3 main steps are:</p><h1 id="steps" tabindex="-1"><a class="header-anchor" href="#steps" aria-hidden="true">#</a> Steps</h1><ol><li>System level configuration <ol><li>Configure vcn credentials system-wide in Jenkins</li></ol></li><li>Per build job <ol><li>Tie <code>vcn</code> credentials in from system configuration to local environment variables</li><li>Sign asset</li></ol></li><li>Before deployment <ol><li>Run <code>vcn authenticate</code> with asset parameters</li></ol></li></ol><h2 id="step-1-system-level-configuration" tabindex="-1"><a class="header-anchor" href="#step-1-system-level-configuration" aria-hidden="true">#</a> Step 1: System level configuration</h2><p>On the Home Screen, locate and click the Credentials link in the sidebar menu to expand the submenu beneath it.</p><p><img src="'+p+'" alt="001homescreen"></p><h3 id="step-1-1-select-system-credentials" tabindex="-1"><a class="header-anchor" href="#step-1-1-select-system-credentials" aria-hidden="true">#</a> Step 1.1 : Select system credentials</h3><p>With the submenu opened up, go ahead and select the credentials type, in this case, select System. <img src="'+h+'" alt="SelectCredentials"></p><h3 id="step-1-2-add-domain" tabindex="-1"><a class="header-anchor" href="#step-1-2-add-domain" aria-hidden="true">#</a> Step 1.2 : Add domain</h3><p>After selecting System, click Add Domain and notice the right-hand display shows \u2018Global credentials (unrestricted)\u2019. Click the link.</p><p><img src="'+u+'" alt="SelectCredentialsb"></p><h3 id="step-1-3-add-credentials" tabindex="-1"><a class="header-anchor" href="#step-1-3-add-credentials" aria-hidden="true">#</a> Step 1.3 : Add credentials</h3><p>Create new credentials by selecting the Add Credentials option.</p><p><img src="'+b+'" alt="CreateCredentials"></p><h2 id="step-2-per-build-job" tabindex="-1"><a class="header-anchor" href="#step-2-per-build-job" aria-hidden="true">#</a> Step 2: Per build job</h2><p>Now that you have the credential creation display opened, you will need to create your credential entries for your <code>vcn</code> notarization password, <code>vcn</code> user account, and <code>vcn</code> password.</p><p><img src="'+g+'" alt="jenkinssecret"></p><p>Once you have all 3, your list of credentials should look something similar to the below.</p><p><img src="'+m+'" alt="list"></p><h3 id="step-2-1-login-and-configure-build-job" tabindex="-1"><a class="header-anchor" href="#step-2-1-login-and-configure-build-job" aria-hidden="true">#</a> Step 2.1 : Login and configure build job</h3><p>Next, you will need login and to configure the build job environment for each build job you have. This is relatively simple. All you need to do is to tie the vcn credentials in from the system configuration to the local environment variables by setting the appropriate bindings.</p><p><img src="'+f+'" alt="jenkinsbuild"></p><p>After successfully setting your bindings, you will need to add a build job build step for signing your code with the <code>vcn</code></p><p>application. Click on the \u2018Add build step\u2019 drop down and select \u2018Execute shell.\u2019</p><p><img src="'+v+`" alt="addbuildjob"></p><h3 id="step-2-2-configure-build-step" tabindex="-1"><a class="header-anchor" href="#step-2-2-configure-build-step" aria-hidden="true">#</a> Step 2.2 : Configure build step</h3><p>Next, after vcn login and entering your credentials in the CLI, you will need to configure your build step for vcn signing by typing in:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vcn login
vcn notarize docker://gcr.io/vchain-ops/vcn:stable
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>in the Command field.</p><p><img src="`+y+`" alt="jenkinsnotarize"></p><h2 id="step-3-before-deployment" tabindex="-1"><a class="header-anchor" href="#step-3-before-deployment" aria-hidden="true">#</a> Step 3: Before deployment</h2><p>Lastly, you will need to execute this snippet in the deployment process:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vcn authenticate docker://gcr.io/vchain-ops/vcn:stable &amp;&amp; your_deploy_script.sh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>And that\u2019s it. You\u2019re now ready to have vChain Codenotary provide a perpetually running integrity check into all of your Jenkins build deployment pipeline, as well as ensure you are participating in the latest DevSecOps best practices.</p>`,37),S={href:"https://dashboard.codenotary.io/auth/signup",target:"_blank",rel:"noopener noreferrer"},k=l("Sign up for a free trial and test the Jenkins integration out for yourself.");function j(C,w){const t=i("ExternalLinkIcon");return n(),a(r,null,[x,e("p",null,[e("a",S,[k,s(t)])])],64)}var N=d(_,[["render",j]]);export{N as default};
